<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì°½ê³  ë¬¼í’ˆ ì¬ê³  ê´€ë¦¬ì‹œìŠ¤í…œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',
                        secondary: '#f59e0b',
                        success: '#10b981',
                        danger: '#ef4444',
                        warning: '#f59e0b',
                        info: '#3b82f6'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-purple-400 via-blue-500 to-blue-600 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white/10 backdrop-blur-lg border-b border-white/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center">
                        <span class="text-2xl">ğŸ“¦</span>
                        <h1 class="ml-2 text-xl font-bold text-white">ì°½ê³  ë¬¼í’ˆ ì¬ê³  ê´€ë¦¬ì‹œìŠ¤í…œ</h1>
                    </div>
                    <div class="hidden md:flex items-center space-x-1">
                        <span class="px-2 py-1 bg-white/20 text-white text-xs rounded-full">ğŸ””</span>
                        <span id="username" class="text-white font-medium">admin</span>
                        <span class="text-white/60">ë¶€ì„œëª…</span>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-white/80 text-sm">ë§ˆì§€ë§‰ í™•ì¸: 2025. 8. 2. ì˜¤í›„ 11:18:51</span>
                    <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <!-- Dashboard Header -->
        <div class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <!-- Stats Cards -->
                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-white/80 text-sm">ì´ ì¬ê³ ëŸ‰ (ea)</p>
                            <p class="text-3xl font-bold mt-1">709,060</p>
                        </div>
                        <div class="bg-green-500/30 p-2 rounded-lg">
                            <span class="text-2xl">ğŸ“Š</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-white/80 text-sm">ì¬ê³  ë¶€ì¡± ë¬¼í’ˆ ìˆ˜</p>
                            <p class="text-3xl font-bold mt-1">147</p>
                        </div>
                        <div class="bg-yellow-500/30 p-2 rounded-lg">
                            <span class="text-2xl">âš ï¸</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-white/80 text-sm">ë¶€ì¡± ë¬¼í’ˆ (ì½œë¼ì•„ì‹ì•„ ìƒì„¸ë³´ê¸°)</p>
                            <p class="text-3xl font-bold mt-1 text-red-400">0 âš ï¸</p>
                        </div>
                        <div class="bg-red-500/30 p-2 rounded-lg">
                            <span class="text-2xl">ğŸš¨</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-white/80 text-sm">ì°½ê³  êµ¬ì—­</p>
                            <p class="text-3xl font-bold mt-1">144</p>
                        </div>
                        <div class="bg-blue-500/30 p-2 rounded-lg">
                            <span class="text-2xl">ğŸª</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Navigation Buttons -->
        <div class="mb-8">
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4">
                <button onclick="openTab('inventory')" class="bg-cyan-500 hover:bg-cyan-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ—‚ï¸</div>
                    <div class="text-sm font-medium">ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ì¬ í™•ì¸</div>
                </button>
                
                <button onclick="openTab('transactions')" class="bg-amber-500 hover:bg-amber-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“‹</div>
                    <div class="text-sm font-medium">ì¬ê³ ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('inbound')" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“¥</div>
                    <div class="text-sm font-medium">ì…ê³ ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('outbound')" class="bg-red-500 hover:bg-red-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“¤</div>
                    <div class="text-sm font-medium">ì¶œê³ ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('bom')" class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“„</div>
                    <div class="text-sm font-medium">ì´ë™ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('warehouse')" class="bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“¦</div>
                    <div class="text-sm font-medium">ì°½ê³ ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('adjustment')" class="bg-pink-500 hover:bg-pink-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ”§</div>
                    <div class="text-sm font-medium">ì°½ê³  êµ¬ì¡° ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('reports')" class="bg-indigo-500 hover:bg-indigo-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“Š</div>
                    <div class="text-sm font-medium">ì˜ˆì™¸ê´€ë¦¬</div>
                </button>
            </div>
        </div>

        <!-- Secondary Navigation -->
        <div class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button onclick="openTab('workdiary')" class="bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white p-4 rounded-xl transition-all">
                    <div class="flex items-center justify-center space-x-2">
                        <span class="text-xl">ğŸ“</span>
                        <span class="font-medium">ì—…ë¬´ì¼ì§€</span>
                    </div>
                </button>
                
                <button onclick="openTab('users')" class="bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white p-4 rounded-xl transition-all">
                    <div class="flex items-center justify-center space-x-2">
                        <span class="text-xl">ğŸ‘¥</span>
                        <span class="font-medium">ì‚¬ìš©ì ê´€ë¦¬</span>
                    </div>
                </button>
                
                <button onclick="openTab('files')" class="bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white p-4 rounded-xl transition-all">
                    <div class="flex items-center justify-center space-x-2">
                        <span class="text-xl">ğŸ“</span>
                        <span class="font-medium">íŒŒì¼ ê´€ë¦¬</span>
                    </div>
                </button>
            </div>
        </div>

        <!-- Smart Settings Panel -->
        <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 mb-8">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold text-white flex items-center">
                    <span class="text-2xl mr-2">âš™ï¸</span>
                    ì‹¤ì‹œê°€ì´ë“œë³¼ ìì¬ í™•ì¸
                </h3>
                <button class="bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors">
                    <span class="text-lg">âš™ï¸</span>
                </button>
            </div>
            
            <div class="mb-4">
                <h4 class="text-white/90 font-medium mb-2">ì‹¤ì‹œê°€ì´ë“œ ì„¤ëª…</h4>
                <select class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-white/30">
                    <option value="">ì‹¤ì‹œê°€ì´ë“œë¥¼ ì„ íƒí•˜ê±°ë‚˜ ê²€ìƒ‰í•˜ì„¸ìš”...</option>
                </select>
            </div>
        </div>

        <!-- Main Content Area -->
        <div id="main-content" class="bg-white/20 backdrop-blur-lg rounded-2xl p-8">
            <div class="text-center text-white">
                <div class="text-6xl mb-4">ğŸ“Š</div>
                <h2 class="text-2xl font-bold mb-4">ì°½ê³  ë¬¼í’ˆ ì¬ê³  ê´€ë¦¬ì‹œìŠ¤í…œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</h2>
                <p class="text-white/80 mb-6">ìœ„ì˜ ë²„íŠ¼ë“¤ì„ í´ë¦­í•˜ì—¬ ì‹œìŠ¤í…œì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                    <div class="bg-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-semibold mb-3">ğŸ“ˆ ìµœì‹  ì—…ë°ì´íŠ¸</h3>
                        <ul class="text-sm text-white/80 space-y-2 text-left">
                            <li>â€¢ Migration ì™„ë£Œ: GitHub + Render + Supabase</li>
                            <li>â€¢ ì‹¤ì‹œê°„ ì¬ê³  ì¶”ì  ì‹œìŠ¤í…œ í™œì„±í™”</li>
                            <li>â€¢ ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸</li>
                            <li>â€¢ Excel íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥</li>
                        </ul>
                    </div>
                    
                    <div class="bg-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-semibold mb-3">ğŸ”§ ì‹œìŠ¤í…œ ìƒíƒœ</h3>
                        <ul class="text-sm text-white/80 space-y-2 text-left">
                            <li>â€¢ ë°ì´í„°ë² ì´ìŠ¤: <span class="text-green-400">ì—°ê²°ë¨</span></li>
                            <li>â€¢ í˜¸ìŠ¤íŒ…: <span class="text-green-400">Render (ë¬´ë£Œ)</span></li>
                            <li>â€¢ ë°±ì—…: <span class="text-green-400">Supabase</span></li>
                            <li>â€¢ ì†ŒìŠ¤ì½”ë“œ: <span class="text-green-400">GitHub</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ê¸°ë³¸ íƒ­ ê¸°ëŠ¥
        function openTab(tabName) {
            const content = document.getElementById('main-content');
            
            switch(tabName) {
                case 'inventory':
                    loadInventoryTab();
                    break;
                case 'transactions':
                    loadTransactionsTab();
                    break;
                case 'workdiary':
                    loadWorkDiaryTab();
                    break;
                default:
                    content.innerHTML = `
                        <div class="text-center text-white">
                            <div class="text-6xl mb-4">ğŸš§</div>
                            <h2 class="text-2xl font-bold mb-4">${tabName} ê¸°ëŠ¥</h2>
                            <p class="text-white/80">ì´ ê¸°ëŠ¥ì€ ê³§ í™œì„±í™”ë  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
                        </div>
                    `;
            }
        }

        function loadInventoryTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ“¦</span>
                        ì‹¤ì‹œê°„ ì¬ê³  í˜„í™©
                    </h2>
                    
                    <div class="mb-6">
                        <div class="flex flex-wrap gap-4 mb-4">
                            <input type="text" placeholder="ì œí’ˆì½”ë“œ ë˜ëŠ” ì œí’ˆëª… ê²€ìƒ‰..." 
                                   class="bg-white/10 border border-white/20 text-white placeholder-white/60 rounded-lg px-4 py-2 flex-1 min-w-64">
                            <select class="bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2">
                                <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                                <option value="ì „ìë¶€í’ˆ">ì „ìë¶€í’ˆ</option>
                                <option value="ê¸°ê³„ë¶€í’ˆ">ê¸°ê³„ë¶€í’ˆ</option>
                            </select>
                            <button class="bg-blue-500 hover:bg-blue-600 px-6 py-2 rounded-lg transition-colors">ê²€ìƒ‰</button>
                        </div>
                    </div>

                    <div class="bg-white/10 rounded-xl overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-white/20">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì œí’ˆì½”ë“œ</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì œí’ˆëª…</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì¹´í…Œê³ ë¦¬</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì¬ê³ </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ìœ„ì¹˜</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ìƒíƒœ</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-white/10" id="inventory-table-body">
                                    <tr>
                                        <td colspan="6" class="px-6 py-4 text-center text-white/60">
                                            <div class="flex items-center justify-center">
                                                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"></div>
                                                ì¬ê³  ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
            
            // ì¬ê³  ë°ì´í„° ë¡œë“œ
            loadInventoryData();
        }

        function loadTransactionsTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ“‹</span>
                        ì¬ê³  ì´ë™ ë‚´ì—­
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <button class="bg-green-500 hover:bg-green-600 p-4 rounded-xl transition-colors">
                            <div class="text-2xl mb-2">ğŸ“¥</div>
                            <div class="font-medium">ì…ê³  ë“±ë¡</div>
                        </button>
                        <button class="bg-red-500 hover:bg-red-600 p-4 rounded-xl transition-colors">
                            <div class="text-2xl mb-2">ğŸ“¤</div>
                            <div class="font-medium">ì¶œê³  ë“±ë¡</div>
                        </button>
                        <button class="bg-blue-500 hover:bg-blue-600 p-4 rounded-xl transition-colors">
                            <div class="text-2xl mb-2">ğŸ”„</div>
                            <div class="font-medium">ì´ë™ ë“±ë¡</div>
                        </button>
                        <button class="bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl transition-colors">
                            <div class="text-2xl mb-2">âš–ï¸</div>
                            <div class="font-medium">ì¬ê³  ì¡°ì •</div>
                        </button>
                    </div>

                    <div class="bg-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-semibold mb-4">ìµœê·¼ ì´ë™ ë‚´ì—­</h3>
                        <div class="space-y-3" id="transaction-list">
                            <div class="flex items-center justify-center py-8">
                                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"></div>
                                <span class="text-white/60">ê±°ë˜ ë‚´ì—­ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // ê±°ë˜ ë‚´ì—­ ë¡œë“œ
            loadTransactionData();
        }

        function loadWorkDiaryTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ“</span>
                        ì—…ë¬´ì¼ì§€ ê´€ë¦¬
                    </h2>
                    
                    <div class="mb-6">
                        <button class="bg-green-500 hover:bg-green-600 px-6 py-3 rounded-xl transition-colors">
                            <span class="text-xl mr-2">â•</span>
                            ìƒˆ ì—…ë¬´ì¼ì§€ ì‘ì„±
                        </button>
                    </div>

                    <div class="bg-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-semibold mb-4">ìµœê·¼ ì—…ë¬´ì¼ì§€</h3>
                        <div class="space-y-4" id="workdiary-list">
                            <div class="flex items-center justify-center py-8">
                                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"></div>
                                <span class="text-white/60">ì—…ë¬´ì¼ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // ì—…ë¬´ì¼ì§€ ë°ì´í„° ë¡œë“œ
            loadWorkDiaryData();
        }

        // API í˜¸ì¶œ í•¨ìˆ˜ë“¤
        async function loadInventoryData() {
            try {
                const response = await fetch('/api/inventory');
                const data = await response.json();
                
                const tableBody = document.getElementById('inventory-table-body');
                if (data.length === 0) {
                    tableBody.innerHTML = `
                        <tr>
                            <td colspan="6" class="px-6 py-4 text-center text-white/60">
                                ì¬ê³  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                tableBody.innerHTML = data.map(item => `
                    <tr class="hover:bg-white/5">
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-mono">${item.code}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">${item.name}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">${item.category}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">
                            <span class="${item.stock < item.minStock ? 'text-red-400' : 'text-green-400'} font-bold">
                                ${item.stock} ${item.unit}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">${item.location || '-'}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">
                            ${item.stock < item.minStock ? 
                                '<span class="bg-red-500/30 text-red-200 px-2 py-1 rounded text-xs">ë¶€ì¡±</span>' : 
                                '<span class="bg-green-500/30 text-green-200 px-2 py-1 rounded text-xs">ì •ìƒ</span>'
                            }
                        </td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('ì¬ê³  ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                const tableBody = document.getElementById('inventory-table-body');
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="6" class="px-6 py-4 text-center text-red-400">
                            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
                        </td>
                    </tr>
                `;
            }
        }

        async function loadTransactionData() {
            try {
                const response = await fetch('/api/transactions');
                const data = await response.json();
                
                const listElement = document.getElementById('transaction-list');
                if (data.length === 0) {
                    listElement.innerHTML = `
                        <div class="text-center text-white/60 py-8">
                            ê±°ë˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    `;
                    return;
                }
                
                listElement.innerHTML = data.map(transaction => `
                    <div class="bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="font-medium">${transaction.itemName} (${transaction.itemCode})</div>
                                <div class="text-sm text-white/70 mt-1">
                                    ${transaction.type === 'inbound' ? 'ğŸ“¥ ì…ê³ ' : 
                                      transaction.type === 'outbound' ? 'ğŸ“¤ ì¶œê³ ' : 
                                      transaction.type === 'move' ? 'ğŸ”„ ì´ë™' : 'âš–ï¸ ì¡°ì •'} 
                                    | ìˆ˜ëŸ‰: ${transaction.quantity}
                                </div>
                                ${transaction.reason ? 
                                    `<div class="text-xs text-white/50 mt-1">${transaction.reason}</div>` : ''
                                }
                            </div>
                            <div class="text-right text-sm text-white/60">
                                ${new Date(transaction.createdAt).toLocaleDateString('ko-KR')}
                            </div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('ê±°ë˜ ë‚´ì—­ ë¡œë“œ ì‹¤íŒ¨:', error);
                const listElement = document.getElementById('transaction-list');
                listElement.innerHTML = `
                    <div class="text-center text-red-400 py-8">
                        ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
                    </div>
                `;
            }
        }

        async function loadWorkDiaryData() {
            try {
                const response = await fetch('/api/work-diary');
                const data = await response.json();
                
                const listElement = document.getElementById('workdiary-list');
                if (data.length === 0) {
                    listElement.innerHTML = `
                        <div class="text-center text-white/60 py-8">
                            ì—…ë¬´ì¼ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    `;
                    return;
                }
                
                listElement.innerHTML = data.map(diary => `
                    <div class="bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <div class="font-medium">${diary.title}</div>
                                <div class="text-sm text-white/70 mt-1">
                                    <span class="bg-blue-500/30 text-blue-200 px-2 py-1 rounded text-xs mr-2">${diary.category}</span>
                                    <span class="bg-${diary.priority === 'high' ? 'red' : diary.priority === 'normal' ? 'green' : 'yellow'}-500/30 text-${diary.priority === 'high' ? 'red' : diary.priority === 'normal' ? 'green' : 'yellow'}-200 px-2 py-1 rounded text-xs">
                                        ${diary.priority === 'high' ? 'ë†’ìŒ' : diary.priority === 'normal' ? 'ë³´í†µ' : 'ë‚®ìŒ'}
                                    </span>
                                </div>
                                <div class="text-sm text-white/60 mt-2 line-clamp-2">${diary.content}</div>
                            </div>
                            <div class="text-right text-sm text-white/60 ml-4">
                                ${new Date(diary.workDate).toLocaleDateString('ko-KR')}
                            </div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('ì—…ë¬´ì¼ì§€ ë¡œë“œ ì‹¤íŒ¨:', error);
                const listElement = document.getElementById('workdiary-list');
                listElement.innerHTML = `
                    <div class="text-center text-red-400 py-8">
                        ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
                    </div>
                `;
            }
        }

        // ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
        async function logout() {
            try {
                await fetch('/api/auth/logout', { method: 'POST' });
                window.location.href = '/';
            } catch (error) {
                console.error('ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:', error);
                window.location.href = '/';
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            // ê¸°ë³¸ ì¬ê³  íƒ­ ë¡œë“œ
            loadInventoryTab();
        });
    </script>
</body>
</html>
