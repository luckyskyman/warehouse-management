<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì°½ê³  ë¬¼í’ˆ ì¬ê³  ê´€ë¦¬ì‹œìŠ¤í…œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',
                        secondary: '#f59e0b',
                        success: '#10b981',
                        danger: '#ef4444',
                        warning: '#f59e0b',
                        info: '#3b82f6'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-purple-400 via-blue-500 to-blue-600 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white/10 backdrop-blur-lg border-b border-white/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center">
                        <span class="text-2xl">ğŸ“¦</span>
                        <h1 class="ml-2 text-xl font-bold text-white">ì°½ê³  ë¬¼í’ˆ ì¬ê³  ê´€ë¦¬ì‹œìŠ¤í…œ</h1>
                    </div>
                    <div class="hidden md:flex items-center space-x-1">
                        <span class="px-2 py-1 bg-white/20 text-white text-xs rounded-full">ğŸ””</span>
                        <span id="username" class="text-white font-medium">admin</span>
                        <span class="text-white/60">ê´€ë¦¬ì</span>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-white/80 text-sm">ë§ˆì§€ë§‰ í™•ì¸: 2025. 8. 2. ì˜¤í›„ 11:26:51</span>
                    <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <!-- Dashboard Header -->
        <div class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <!-- Stats Cards -->
                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-white/80 text-sm">ì´ ì¬ê³ ëŸ‰ (ea)</p>
                            <p class="text-3xl font-bold mt-1">709,060</p>
                        </div>
                        <div class="bg-green-500/30 p-2 rounded-lg">
                            <span class="text-2xl">ğŸ“Š</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-white/80 text-sm">ì¬ê³  ë¶€ì¡± ë¬¼í’ˆ ìˆ˜</p>
                            <p class="text-3xl font-bold mt-1">147</p>
                        </div>
                        <div class="bg-yellow-500/30 p-2 rounded-lg">
                            <span class="text-2xl">âš ï¸</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-white/80 text-sm">ë¶€ì¡± ë¬¼í’ˆ (ì½œë¼ì•„ì‹ì•„ ìƒì„¸ë³´ê¸°)</p>
                            <p class="text-3xl font-bold mt-1 text-red-400">0 âš ï¸</p>
                        </div>
                        <div class="bg-red-500/30 p-2 rounded-lg">
                            <span class="text-2xl">ğŸš¨</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-white/80 text-sm">ì°½ê³  êµ¬ì—­</p>
                            <p class="text-3xl font-bold mt-1">144</p>
                        </div>
                        <div class="bg-blue-500/30 p-2 rounded-lg">
                            <span class="text-2xl">ğŸª</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Navigation Buttons -->
        <div class="mb-8">
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4">
                <button onclick="openTab('inventory')" class="bg-cyan-500 hover:bg-cyan-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ—‚ï¸</div>
                    <div class="text-sm font-medium">ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ì¬ í™•ì¸</div>
                </button>
                
                <button onclick="openTab('transactions')" class="bg-amber-500 hover:bg-amber-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“‹</div>
                    <div class="text-sm font-medium">ì¬ê³ ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('inbound')" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“¥</div>
                    <div class="text-sm font-medium">ì…ê³ ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('outbound')" class="bg-red-500 hover:bg-red-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“¤</div>
                    <div class="text-sm font-medium">ì¶œê³ ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('bom')" class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“„</div>
                    <div class="text-sm font-medium">ì´ë™ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('warehouse')" class="bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“¦</div>
                    <div class="text-sm font-medium">ì°½ê³ ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('adjustment')" class="bg-pink-500 hover:bg-pink-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ”§</div>
                    <div class="text-sm font-medium">ì°½ê³  êµ¬ì¡° ê´€ë¦¬</div>
                </button>
                
                <button onclick="openTab('reports')" class="bg-indigo-500 hover:bg-indigo-600 text-white p-4 rounded-xl transition-all transform hover:scale-105 shadow-lg">
                    <div class="text-2xl mb-2">ğŸ“Š</div>
                    <div class="text-sm font-medium">ì˜ˆì™¸ê´€ë¦¬</div>
                </button>
            </div>
        </div>

        <!-- Secondary Navigation -->
        <div class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button onclick="openTab('workdiary')" class="bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white p-4 rounded-xl transition-all">
                    <div class="flex items-center justify-center space-x-2">
                        <span class="text-xl">ğŸ“</span>
                        <span class="font-medium">ì—…ë¬´ì¼ì§€</span>
                    </div>
                </button>
                
                <button onclick="openTab('users')" class="bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white p-4 rounded-xl transition-all">
                    <div class="flex items-center justify-center space-x-2">
                        <span class="text-xl">ğŸ‘¥</span>
                        <span class="font-medium">ì‚¬ìš©ì ê´€ë¦¬</span>
                    </div>
                </button>
                
                <button onclick="openTab('files')" class="bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white p-4 rounded-xl transition-all">
                    <div class="flex items-center justify-center space-x-2">
                        <span class="text-xl">ğŸ“</span>
                        <span class="font-medium">íŒŒì¼ ê´€ë¦¬</span>
                    </div>
                </button>
            </div>
        </div>

        <!-- Smart Settings Panel -->
        <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 mb-8">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold text-white flex items-center">
                    <span class="text-2xl mr-2">âš™ï¸</span>
                    ì‹¤ì‹œê°€ì´ë“œë³¼ ìì¬ í™•ì¸
                </h3>
                <button onclick="openSettings()" class="bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors">
                    <span class="text-lg">âš™ï¸</span>
                </button>
            </div>
            
            <div class="mb-4">
                <h4 class="text-white/90 font-medium mb-2">ì‹¤ì‹œê°€ì´ë“œ ì„¤ëª…</h4>
                <select class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-white/30">
                    <option value="">ì‹¤ì‹œê°€ì´ë“œë¥¼ ì„ íƒí•˜ê±°ë‚˜ ê²€ìƒ‰í•˜ì„¸ìš”...</option>
                </select>
            </div>
        </div>

        <!-- Main Content Area -->
        <div id="main-content" class="bg-white/20 backdrop-blur-lg rounded-2xl p-8">
            <!-- Inventory Tab Content (Default) -->
            <div class="text-white">
                <h2 class="text-2xl font-bold mb-6 flex items-center">
                    <span class="text-3xl mr-3">ğŸ“¦</span>
                    ì‹¤ì‹œê°„ ì¬ê³  í˜„í™©
                </h2>
                
                <div class="mb-6">
                    <div class="flex flex-wrap gap-4 mb-4">
                        <input type="text" placeholder="ì œí’ˆì½”ë“œ ë˜ëŠ” ì œí’ˆëª… ê²€ìƒ‰..." 
                               class="bg-white/10 border border-white/20 text-white placeholder-white/60 rounded-lg px-4 py-2 flex-1 min-w-64">
                        <select class="bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2">
                            <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                            <option value="ì „ìë¶€í’ˆ">ì „ìë¶€í’ˆ</option>
                            <option value="ê¸°ê³„ë¶€í’ˆ">ê¸°ê³„ë¶€í’ˆ</option>
                        </select>
                        <button onclick="searchInventory()" class="bg-blue-500 hover:bg-blue-600 px-6 py-2 rounded-lg transition-colors">ê²€ìƒ‰</button>
                    </div>
                </div>

                <div class="bg-white/10 rounded-xl overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-white/20">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì œí’ˆì½”ë“œ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì œí’ˆëª…</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì¹´í…Œê³ ë¦¬</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì¬ê³ </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ìœ„ì¹˜</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ìƒíƒœ</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-white/10" id="inventory-table-body">
                                <tr class="hover:bg-white/5">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-mono">ITEM001</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">ìƒ˜í”Œ ì•„ì´í…œ 1</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">ì „ìë¶€í’ˆ</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">
                                        <span class="text-green-400 font-bold">100 ea</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">A-1-01</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">
                                        <span class="bg-green-500/30 text-green-200 px-2 py-1 rounded text-xs">ì •ìƒ</span>
                                    </td>
                                </tr>
                                <tr class="hover:bg-white/5">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-mono">ITEM002</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">ìƒ˜í”Œ ì•„ì´í…œ 2</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">ê¸°ê³„ë¶€í’ˆ</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">
                                        <span class="text-green-400 font-bold">50 ea</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">B-2-03</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm">
                                        <span class="bg-green-500/30 text-green-200 px-2 py-1 rounded text-xs">ì •ìƒ</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSessionId = null;

        // ê¸°ë³¸ íƒ­ ê¸°ëŠ¥
        function openTab(tabName) {
            const content = document.getElementById('main-content');
            
            switch(tabName) {
                case 'inventory':
                    loadInventoryTab();
                    break;
                case 'transactions':
                    loadTransactionsTab();
                    break;
                case 'inbound':
                    loadInboundTab();
                    break;
                case 'outbound':
                    loadOutboundTab();
                    break;
                case 'workdiary':
                    loadWorkDiaryTab();
                    break;
                case 'users':
                    loadUsersTab();
                    break;
                default:
                    content.innerHTML = `
                        <div class="text-center text-white">
                            <div class="text-6xl mb-4">ğŸš§</div>
                            <h2 class="text-2xl font-bold mb-4">${getTabTitle(tabName)} ê¸°ëŠ¥</h2>
                            <p class="text-white/80">ì´ ê¸°ëŠ¥ì€ ê³§ í™œì„±í™”ë  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
                        </div>
                    `;
            }
        }

        function getTabTitle(tabName) {
            const titles = {
                'bom': 'BOM ê´€ë¦¬',
                'warehouse': 'ì°½ê³  ê´€ë¦¬',
                'adjustment': 'ì¬ê³  ì¡°ì •',
                'reports': 'ë³´ê³ ì„œ',
                'files': 'íŒŒì¼ ê´€ë¦¬'
            };
            return titles[tabName] || tabName;
        }

        function loadInventoryTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ“¦</span>
                        ì‹¤ì‹œê°„ ì¬ê³  í˜„í™©
                    </h2>
                    
                    <div class="mb-6">
                        <div class="flex flex-wrap gap-4 mb-4">
                            <input type="text" id="search-input" placeholder="ì œí’ˆì½”ë“œ ë˜ëŠ” ì œí’ˆëª… ê²€ìƒ‰..." 
                                   class="bg-white/10 border border-white/20 text-white placeholder-white/60 rounded-lg px-4 py-2 flex-1 min-w-64">
                            <select id="category-filter" class="bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2">
                                <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                                <option value="ì „ìë¶€í’ˆ">ì „ìë¶€í’ˆ</option>
                                <option value="ê¸°ê³„ë¶€í’ˆ">ê¸°ê³„ë¶€í’ˆ</option>
                            </select>
                            <button onclick="searchInventory()" class="bg-blue-500 hover:bg-blue-600 px-6 py-2 rounded-lg transition-colors">ê²€ìƒ‰</button>
                        </div>
                    </div>

                    <div class="bg-white/10 rounded-xl overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-white/20">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì œí’ˆì½”ë“œ</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì œí’ˆëª…</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì¹´í…Œê³ ë¦¬</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì¬ê³ </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ìœ„ì¹˜</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ìƒíƒœ</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-white/10" id="inventory-table-body">
                                    <tr>
                                        <td colspan="6" class="px-6 py-4 text-center text-white/60">
                                            <div class="flex items-center justify-center">
                                                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"></div>
                                                ì¬ê³  ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
            
            // ì¬ê³  ë°ì´í„° ë¡œë“œ
            setTimeout(loadInventoryData, 500);
        }

        function loadTransactionsTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ“‹</span>
                        ì¬ê³  ì´ë™ ë‚´ì—­
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <button onclick="showTransactionForm('inbound')" class="bg-green-500 hover:bg-green-600 p-4 rounded-xl transition-colors">
                            <div class="text-2xl mb-2">ğŸ“¥</div>
                            <div class="font-medium">ì…ê³  ë“±ë¡</div>
                        </button>
                        <button onclick="showTransactionForm('outbound')" class="bg-red-500 hover:bg-red-600 p-4 rounded-xl transition-colors">
                            <div class="text-2xl mb-2">ğŸ“¤</div>
                            <div class="font-medium">ì¶œê³  ë“±ë¡</div>
                        </button>
                        <button onclick="showTransactionForm('move')" class="bg-blue-500 hover:bg-blue-600 p-4 rounded-xl transition-colors">
                            <div class="text-2xl mb-2">ğŸ”„</div>
                            <div class="font-medium">ì´ë™ ë“±ë¡</div>
                        </button>
                        <button onclick="showTransactionForm('adjustment')" class="bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl transition-colors">
                            <div class="text-2xl mb-2">âš–ï¸</div>
                            <div class="font-medium">ì¬ê³  ì¡°ì •</div>
                        </button>
                    </div>

                    <div class="bg-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-semibold mb-4">ìµœê·¼ ì´ë™ ë‚´ì—­</h3>
                        <div class="space-y-3" id="transaction-list">
                            <div class="flex items-center justify-center py-8">
                                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"></div>
                                <span class="text-white/60">ê±°ë˜ ë‚´ì—­ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // ê±°ë˜ ë‚´ì—­ ë¡œë“œ
            setTimeout(loadTransactionData, 500);
        }

        function loadInboundTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ“¥</span>
                        ì…ê³  ê´€ë¦¬
                    </h2>
                    
                    <div class="bg-white/10 rounded-xl p-6 mb-6">
                        <h3 class="text-lg font-semibold mb-4">ì…ê³  ë“±ë¡</h3>
                        <form id="inbound-form" class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">ì œí’ˆì½”ë“œ</label>
                                    <input type="text" name="itemCode" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">ì œí’ˆëª…</label>
                                    <input type="text" name="itemName" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">ìˆ˜ëŸ‰</label>
                                    <input type="number" name="quantity" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">ì…ê³  ìœ„ì¹˜</label>
                                    <input type="text" name="toLocation" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">ì‚¬ìœ </label>
                                <textarea name="reason" rows="3" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2"></textarea>
                            </div>
                            <button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors">
                                ì…ê³  ë“±ë¡
                            </button>
                        </form>
                    </div>
                </div>
            `;
        }

        function loadOutboundTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ“¤</span>
                        ì¶œê³  ê´€ë¦¬
                    </h2>
                    
                    <div class="bg-white/10 rounded-xl p-6 mb-6">
                        <h3 class="text-lg font-semibold mb-4">ì¶œê³  ë“±ë¡</h3>
                        <form id="outbound-form" class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">ì œí’ˆì½”ë“œ</label>
                                    <input type="text" name="itemCode" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">ì œí’ˆëª…</label>
                                    <input type="text" name="itemName" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">ìˆ˜ëŸ‰</label>
                                    <input type="number" name="quantity" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">ì¶œê³  ìœ„ì¹˜</label>
                                    <input type="text" name="fromLocation" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">ì‚¬ìœ </label>
                                <textarea name="reason" rows="3" class="w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-2"></textarea>
                            </div>
                            <button type="submit" class="bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors">
                                ì¶œê³  ë“±ë¡
                            </button>
                        </form>
                    </div>
                </div>
            `;
        }

        function loadWorkDiaryTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ“</span>
                        ì—…ë¬´ì¼ì§€ ê´€ë¦¬
                    </h2>
                    
                    <div class="mb-6">
                        <button onclick="showWorkDiaryForm()" class="bg-green-500 hover:bg-green-600 px-6 py-3 rounded-xl transition-colors">
                            <span class="text-xl mr-2">â•</span>
                            ìƒˆ ì—…ë¬´ì¼ì§€ ì‘ì„±
                        </button>
                    </div>

                    <div class="bg-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-semibold mb-4">ìµœê·¼ ì—…ë¬´ì¼ì§€</h3>
                        <div class="space-y-4" id="workdiary-list">
                            <div class="flex items-center justify-center py-8">
                                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"></div>
                                <span class="text-white/60">ì—…ë¬´ì¼ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // ì—…ë¬´ì¼ì§€ ë°ì´í„° ë¡œë“œ
            setTimeout(loadWorkDiaryData, 500);
        }

        function loadUsersTab() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">ğŸ‘¥</span>
                        ì‚¬ìš©ì ê´€ë¦¬
                    </h2>
                    
                    <div class="mb-6">
                        <button onclick="showUserForm()" class="bg-green-500 hover:bg-green-600 px-6 py-3 rounded-xl transition-colors">
                            <span class="text-xl mr-2">â•</span>
                            ìƒˆ ì‚¬ìš©ì ì¶”ê°€
                        </button>
                    </div>

                    <div class="bg-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-semibold mb-4">ì‚¬ìš©ì ëª©ë¡</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-white/20">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì‚¬ìš©ìëª…</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì—­í• </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ë¶€ì„œ</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ì§ê¸‰</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-white/80 uppercase tracking-wider">ê°€ì…ì¼</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-white/10" id="users-table-body">
                                    <tr class="hover:bg-white/5">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">admin</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">
                                            <span class="bg-red-500/30 text-red-200 px-2 py-1 rounded text-xs">ê´€ë¦¬ì</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">ê´€ë¦¬ë¶€</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">ê´€ë¦¬ì</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2025-08-02</td>
                                    </tr>
                                    <tr class="hover:bg-white/5">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">viewer</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">
                                            <span class="bg-green-500/30 text-green-200 px-2 py-1 rounded text-xs">ì¡°íšŒì</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">ì¼ë°˜ë¶€</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">ì‚¬ì›</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm">2025-08-02</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
        }

        function openSettings() {
            const content = document.getElementById('main-content');
            content.innerHTML = `
                <div class="text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center">
                        <span class="text-3xl mr-3">âš™ï¸</span>
                        ì‹œìŠ¤í…œ ì„¤ì •
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white/10 rounded-xl p-6">
                            <h3 class="text-lg font-semibold mb-4">ì•Œë¦¼ ì„¤ì •</h3>
                            <div class="space-y-4">
                                <label class="flex items-center">
                                    <input type="checkbox" checked class="mr-3">
                                    <span>ì¬ê³  ë¶€ì¡± ì•Œë¦¼</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" checked class="mr-3">
                                    <span>ì…ì¶œê³  ì•Œë¦¼</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="mr-3">
                                    <span>ìŒì„± ì•Œë¦¼</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="bg-white/10 rounded-xl p-6">
                            <h3 class="text-lg font-semibold mb-4">ì‹œìŠ¤í…œ ì •ë³´</h3>
                            <div class="space-y-2 text-sm">
                                <p>í˜¸ìŠ¤íŒ…: Render (ë¬´ë£Œ)</p>
                                <p>ë°ì´í„°ë² ì´ìŠ¤: Supabase PostgreSQL</p>
                                <p>ì†ŒìŠ¤ì½”ë“œ: GitHub</p>
                                <p>ë²„ì „: 1.0.0</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // API í˜¸ì¶œ í•¨ìˆ˜ë“¤
        async function loadInventoryData() {
            try {
                const response = await fetch('/api/inventory', {
                    headers: getAuthHeaders()
                });
                
                if (!response.ok) {
                    throw new Error('Failed to fetch inventory data');
                }
                
                const data = await response.json();
                
                const tableBody = document.getElementById('inventory-table-body');
                if (!tableBody) return;
                
                if (data.length === 0) {
                    tableBody.innerHTML = `
                        <tr>
                            <td colspan="6" class="px-6 py-4 text-center text-white/60">
                                ì¬ê³  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                tableBody.innerHTML = data.map(item => `
                    <tr class="hover:bg-white/5">
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-mono">${item.code}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">${item.name}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">${item.category}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">
                            <span class="${item.stock < item.minStock ? 'text-red-400' : 'text-green-400'} font-bold">
                                ${item.stock} ${item.unit}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">${item.location || '-'}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">
                            ${item.stock < item.minStock ? 
                                '<span class="bg-red-500/30 text-red-200 px-2 py-1 rounded text-xs">ë¶€ì¡±</span>' : 
                                '<span class="bg-green-500/30 text-green-200 px-2 py-1 rounded text-xs">ì •ìƒ</span>'
                            }
                        </td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('ì¬ê³  ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                const tableBody = document.getElementById('inventory-table-body');
                if (tableBody) {
                    tableBody.innerHTML = `
                        <tr>
                            <td colspan="6" class="px-6 py-4 text-center text-red-400">
                                ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
                            </td>
                        </tr>
                    `;
                }
            }
        }

        async function loadTransactionData() {
            try {
                const response = await fetch('/api/transactions', {
                    headers: getAuthHeaders()
                });
                
                if (!response.ok) {
                    throw new Error('Failed to fetch transaction data');
                }
                
                const data = await response.json();
                
                const listElement = document.getElementById('transaction-list');
                if (!listElement) return;
                
                if (data.length === 0) {
                    listElement.innerHTML = `
                        <div class="text-center text-white/60 py-8">
                            ê±°ë˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    `;
                    return;
                }
                
                listElement.innerHTML = data.map(transaction => `
                    <div class="bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="font-medium">${transaction.itemName} (${transaction.itemCode})</div>
                                <div class="text-sm text-white/70 mt-1">
                                    ${getTransactionTypeIcon(transaction.type)} 
                                    | ìˆ˜ëŸ‰: ${transaction.quantity}
                                </div>
                                ${transaction.reason ? 
                                    `<div class="text-xs text-white/50 mt-1">${transaction.reason}</div>` : ''
                                }
                            </div>
                            <div class="text-right text-sm text-white/60">
                                ${new Date(transaction.createdAt).toLocaleDateString('ko-KR')}
                            </div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('ê±°ë˜ ë‚´ì—­ ë¡œë“œ ì‹¤íŒ¨:', error);
                const listElement = document.getElementById('transaction-list');
                if (listElement) {
                    listElement.innerHTML = `
                        <div class="text-center text-red-400 py-8">
                            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
                        </div>
                    `;
                }
            }
        }

        async function loadWorkDiaryData() {
            try {
                const response = await fetch('/api/work-diary', {
                    headers: getAuthHeaders()
                });
                
                if (!response.ok) {
                    throw new Error('Failed to fetch work diary data');
                }
                
                const data = await response.json();
                
                const listElement = document.getElementById('workdiary-list');
                if (!listElement) return;
                
                if (data.length === 0) {
                    listElement.innerHTML = `
                        <div class="text-center text-white/60 py-8">
                            ì—…ë¬´ì¼ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    `;
                    return;
                }
                
                listElement.innerHTML = data.map(diary => `
                    <div class="bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-colors">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <div class="font-medium">${diary.title}</div>
                                <div class="text-sm text-white/70 mt-1">
                                    <span class="bg-blue-500/30 text-blue-200 px-2 py-1 rounded text-xs mr-2">${diary.category}</span>
                                    <span class="bg-${getPriorityColor(diary.priority)}-500/30 text-${getPriorityColor(diary.priority)}-200 px-2 py-1 rounded text-xs">
                                        ${getPriorityText(diary.priority)}
                                    </span>
                                </div>
                                <div class="text-sm text-white/60 mt-2 line-clamp-2">${diary.content}</div>
                            </div>
                            <div class="text-right text-sm text-white/60 ml-4">
                                ${new Date(diary.workDate).toLocaleDateString('ko-KR')}
                            </div>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('ì—…ë¬´ì¼ì§€ ë¡œë“œ ì‹¤íŒ¨:', error);
                const listElement = document.getElementById('workdiary-list');
                if (listElement) {
                    listElement.innerHTML = `
                        <div class="text-center text-red-400 py-8">
                            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
                        </div>
                    `;
                }
            }
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function getAuthHeaders() {
            const headers = {
                'Content-Type': 'application/json'
            };
            
            if (currentSessionId) {
                headers['Authorization'] = `Bearer ${currentSessionId}`;
            }
            
            return headers;
        }

        function getTransactionTypeIcon(type) {
            const icons = {
                'inbound': 'ğŸ“¥ ì…ê³ ',
                'outbound': 'ğŸ“¤ ì¶œê³ ',
                'move': 'ğŸ”„ ì´ë™',
                'adjustment': 'âš–ï¸ ì¡°ì •'
            };
            return icons[type] || type;
        }

        function getPriorityColor(priority) {
            const colors = {
                'high': 'red',
                'normal': 'green',
                'low': 'yellow'
            };
            return colors[priority] || 'green';
        }

        function getPriorityText(priority) {
            const texts = {
                'high': 'ë†’ìŒ',
                'normal': 'ë³´í†µ',
                'low': 'ë‚®ìŒ'
            };
            return texts[priority] || 'ë³´í†µ';
        }

        function searchInventory() {
            loadInventoryData();
        }

        // ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
        async function logout() {
            try {
                await fetch('/api/auth/logout', { 
                    method: 'POST',
                    headers: getAuthHeaders()
                });
                window.location.href = '/';
            } catch (error) {
                console.error('ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:', error);
                window.location.href = '/';
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            // ì„¸ì…˜ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
            currentSessionId = localStorage.getItem('sessionId');
            
            // ê¸°ë³¸ ì¬ê³  íƒ­ ë¡œë“œ
            loadInventoryTab();
            
            // ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
            const username = localStorage.getItem('username') || 'admin';
            const usernameElement = document.getElementById('username');
            if (usernameElement) {
                usernameElement.textContent = username;
            }
        });
    </script>
</body>
</html>
